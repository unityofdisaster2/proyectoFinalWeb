<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../plantillas/plantillaAdministrador.xhtml">

            <ui:define name="titulo">
                <title>Formulario ordenes</title>
            </ui:define>

            <ui:define name="content">
                <div class="container-sm p-3 my-3 bg-white shadow-lg rounded border" style="width:400px">
                    <h5>Orden</h5>
                    <div class="dropdown-divider"></div>                
                    <f:view>
                        <h:form id="frmOrders">
                            <h:inputHidden value="#{ordenMB.accion}"/>

                            <div class="form-row">
                                <div class="form-group col">
                                    <h:outputLabel
                                        id="lblIdOrden"
                                        for="txtIdOrden"
                                        value="Id Orden"
                                        rendered="#{ordenMB.modoActualizar}"

                                        />

                                    <p:inputText
                                        id="txtIdOrden"
                                        value="#{ordenMB.dto.entidad.idOrden}"
                                        readonly="true"
                                        class="form-control"
                                        rendered="#{ordenMB.modoActualizar}"
                                        />
                                </div>

                            </div>
                            <div class="form-row">
                                <div class="form-group col">
                                    <h:outputLabel
                                        id="lblIdCliente"
                                        for="txtIdCliente"
                                        value="Id de cliente"

                                        />

                                    <p:inputText
                                        id="txtIdCliente"
                                        value="#{ordenMB.dto.entidad.idCliente}"
                                        class="form-control"
                                        readonly="true"
                                        />
                                </div>
                                <div class="form-group col">
                                    <h:outputLabel
                                        id="lblEstatus"
                                        for="txtEstatus"
                                        value="Estatus del pedido"

                                        />

                                    <h:selectOneMenu value="#{ordenMB.dto.entidad.estatusOrden}" id="txtEstatus" class="form-control">
                                        <f:selectItem itemLabel="procesando" itemValue="P" />
                                        <f:selectItem itemLabel="en camino" itemValue="C" />
                                        <f:selectItem itemLabel="Entregado" itemValue="E" />
                                    </h:selectOneMenu>                
                                </div>

                            </div>

                            <div class="form-row">
                                <div class="col">
                                    <h:outputLabel 
                                        id="lblFechaOrden"
                                        for="popup"
                                        value="Fecha de orden"
                                        />
                                    
                                </div>
                                <div class="col">
                                    <p:calendar 
                                        id="popup"
                                        required="true"
                                        value="#{ordenMB.dto.entidad.fechaOrden}"
                                        pattern="yyyy-MM-dd"
                                        mask="true"
                                        />
                                    
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="col">
                                    <h:outputLabel 
                                        id="lblFechaEnvio"
                                        for="cldEnvio"
                                        value="Fecha de envio"
                                        />
                                    
                                </div>
                                <div class="col">
                                    <p:calendar 
                                        id="cldEnvio"
                                        value="#{ordenMB.dto.entidad.fechaEnvio}"
                                        pattern="yyyy-MM-dd"
                                        mask="true"
                                        />
                                    
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="col">
                                    <h:outputLabel 
                                        id="lblFechaEntrega"
                                        for="cldEntrega"
                                        value="Fecha de entrega"
                                        />
                                    
                                </div>
                                <div class="col">
                                    <p:calendar 
                                        id="cldEntrega"
                                        value="#{ordenMB.dto.entidad.fechaEntrega}"
                                        pattern="yyyy-MM-dd"
                                        
                                        mask="true"
                                        />
                                    
                                </div>
                            </div>

                            <p:commandButton value="Actualizar" action="#{ordenMB.actualizar()}" actionListener="#{ordenMB.mostrarMensaje}" rendered="#{ordenMB.modoActualizar}" class="btn btn-primary">
                                <f:param name="activar" value="update"></f:param>
                            </p:commandButton>


                            <p:messages></p:messages>
                        </h:form>
                    </f:view>
                </div>


            </ui:define>

        </ui:composition>

    </body>
</html>
